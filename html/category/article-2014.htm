<!DOCTYPE html>
<html>

<head>
        <link rel="canonical" href="https://laosaddress.github.io/html/category/article-2014.htm" />
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>centos7-linux安装docker(离线方式) - Laos Address</title>
        <link rel="icon" href="/assets/addons/xcblog/img/laosaddress/favicon.ico" type="image/x-icon"/>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="robots" content="all,follow">
    <!-- Bootstrap CSS-->
    <link rel="stylesheet" href="/assets/addons/xcblog/js/frontend/laosaddress/bootstrap/css/bootstrap.min.css">
    <!-- Font Awesome CSS-->
    <link rel="stylesheet" href="/assets/addons/xcblog/js/frontend/laosaddress/font-awesome/css/font-awesome.min.css">
    <!-- Google fonts - Poppins-->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Poppins:300,400,600">
    <!-- Lightbox-->
    <link rel="stylesheet" href="/assets/addons/xcblog/js/frontend/laosaddress/lightbox2/css/lightbox.css">
    <link rel="stylesheet" href="/assets/addons/xcblog/css/laosaddress/fontastic.css">
    <!-- theme stylesheet-->
    <link rel="stylesheet" href="/assets/addons/xcblog/css/laosaddress/style.default.css" id="theme-stylesheet">
    <!-- Custom stylesheet - for your changes-->
    <link rel="stylesheet" href="/assets/addons/xcblog/css/laosaddress/custom.css">
    <!-- Tweaks for older IEs-->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
        <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script><![endif]-->
    <script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?a08ccaf1644b67c8d98a3563104919a8";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3332997411212854"
     crossorigin="anonymous"></script>
</head>

<body>
        <!-- navbar-->
    <header class="header">
        <nav class="navbar navbar-expand-lg fixed-top">
            <div class="container">
                                <a href="/" class="navbar-brand">
                    Laos Address
                </a>
                
                <button type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation" class="navbar-toggler navbar-toggler-right">Menu<i class="fa fa-bars ml-2"></i></button>
                <div id="navbarSupportedContent" class="collapse navbar-collapse">
                    <ul class="navbar-nav ml-auto">
                                                <!-- Link-->
                        <li class="nav-item"> <a href="/" class="nav-link">首页</a></li>
                                                <!-- Link-->
                        <li class="nav-item"> <a href="/html/category/" class="nav-link">文章分类</a></li>
                                                <!-- Link-->
                        <li class="nav-item"> <a href="#" class="nav-link">关于</a></li>
                        <!-- Link-->
                        <li class="nav-item"> <a href="#" class="nav-link">联系</a></li>
                    </ul>
                </div>
            </div>
        </nav>
    </header>

    <!-- Hero Section-->
    <section class="hero">
        <div class="container text-center">
            <h1>centos7-linux安装docker(离线方式)</h1>
            <nav aria-label="breadcrumb" class="d-flex justify-content-center">
                <ol class="breadcrumb">
                    <li class="breadcrumb-item"><a href="/" class="animsition-link">首页</a></li>
                    <li class="breadcrumb-item"><a href="/html/category/" class="animsition-link">文章分类</a></li>
                    <li aria-current="page" class="breadcrumb-item active">正文</li>
                </ol>
            </nav>
        </div>
    </section>
    <section>
        <div class="container">
            <div class="row" id="list">
                <div class="col-md-9">
                          				  				  				<div id="content_views" class="htmledit_views"> <h1>centos7-linux安装docker(离线方式)</h1> <ol> <li>下载docker的安装文件</li> </ol> <p>https://download.docker.com/linux/static/stable/x86_64/</p> <p>下载的是：docker-18.06.3-ce.tgz 这个压缩文件</p> <p><img decoding="async" alt="" src="http://img.555519.xyz/uploads3/20220609/da29b127056362de2ae43d6cc6f89881.jpg"></p> <ol> <li>将docker-18.06.3-ce.tgz文件上传到centos7-linux系统上，用ftp工具上传即可</li> </ol> <p><img decoding="async" alt="" src="http://img.555519.xyz/uploads3/20220609/62d49b89b460ebc2da2e19e2c9894397.jpg"></p> <ol> <li>解压</li> </ol> <pre></pre> <table> <tbody> <tr> <td></td> <td><code>[root@localhost java]# tar -zxvf docker-18.06.3-ce.tgz</code></td> </tr> </tbody> </table> <ol> <li>将解压出来的docker文件复制到 /usr/bin/ 目录下</li> </ol> <pre></pre> <table> <tbody> <tr> <td></td> <td><code>[root@localhost java]# cp docker/* /usr/bin/</code></td> </tr> </tbody> </table> <ol> <li>进入<strong>/etc/systemd/system/</strong>目录,并创建<strong>docker.service</strong>文件</li> </ol> <pre></pre> <table> <tbody> <tr> <td></td> <td><code>[root@localhost java]# cd /etc/systemd/system/</code></td> </tr> <tr> <td></td> <td><code>[root@localhost system]# touch docker.service</code></td> </tr> </tbody> </table> <ol> <li>打开<strong>docker.service</strong>文件,将以下内容复制</li> </ol> <pre></pre> <table> <tbody> <tr> <td></td> <td><code>[root@localhost system]# vi docker.service</code></td> </tr> </tbody> </table> <p><strong>注意</strong>： --insecure-registry=192.168.200.128 此处改为你自己服务器ip</p> <pre></pre> <table> <tbody> <tr> <td></td> <td><code>[Unit]</code></td> </tr> <tr> <td></td> <td><code>Description=Docker Application Container Engine</code></td> </tr> <tr> <td></td> <td><code>Documentation=https://docs.docker.com</code></td> </tr> <tr> <td></td> <td><code>After=network-online.target firewalld.service</code></td> </tr> <tr> <td></td> <td><code>Wants=network-online.target</code></td> </tr> <tr> <td></td> <td></td> </tr> <tr> <td></td> <td><code>[Service]</code></td> </tr> <tr> <td></td> <td><code>Type=notify</code></td> </tr> <tr> <td></td> <td><code># the default is not to use systemd for cgroups because the delegate issues still</code></td> </tr> <tr> <td></td> <td><code># exists and systemd currently does not support the cgroup feature set required</code></td> </tr> <tr> <td></td> <td><code># for containers run by docker</code></td> </tr> <tr> <td></td> <td><code>ExecStart=/usr/bin/dockerd --selinux-enabled=false --insecure-registry=192.168.200.128</code></td> </tr> <tr> <td></td> <td><code>ExecReload=/bin/kill -s HUP $MAINPID</code></td> </tr> <tr> <td></td> <td><code># Having non-zero Limit*s causes performance problems due to accounting overhead</code></td> </tr> <tr> <td></td> <td><code># in the kernel. We recommend using cgroups to do container-local accounting.</code></td> </tr> <tr> <td></td> <td><code>LimitNOFILE=infinity</code></td> </tr> <tr> <td></td> <td><code>LimitNPROC=infinity</code></td> </tr> <tr> <td></td> <td><code>LimitCORE=infinity</code></td> </tr> <tr> <td></td> <td><code># Uncomment TasksMax if your systemd version supports it.</code></td> </tr> <tr> <td></td> <td><code># Only systemd 226 and above support this version.</code></td> </tr> <tr> <td></td> <td><code>#TasksMax=infinity</code></td> </tr> <tr> <td></td> <td><code>TimeoutStartSec=0</code></td> </tr> <tr> <td></td> <td><code># set delegate yes so that systemd does not reset the cgroups of docker containers</code></td> </tr> <tr> <td></td> <td><code>Delegate=yes</code></td> </tr> <tr> <td></td> <td><code># kill only the docker process, not all processes in the cgroup</code></td> </tr> <tr> <td></td> <td><code>KillMode=process</code></td> </tr> <tr> <td></td> <td><code># restart the docker process if it exits prematurely</code></td> </tr> <tr> <td></td> <td><code>Restart=on-failure</code></td> </tr> <tr> <td></td> <td><code>StartLimitBurst=3</code></td> </tr> <tr> <td></td> <td><code>StartLimitInterval=60s</code></td> </tr> <tr> <td></td> <td></td> </tr> <tr> <td></td> <td><code>[Install]</code></td> </tr> <tr> <td></td> <td><code>WantedBy=multi-user.target</code></td> </tr> <tr> <td></td> <td></td> </tr> </tbody> </table> <ol> <li>给docker.service文件添加执行权限</li> </ol> <pre></pre> <table> <tbody> <tr> <td></td> <td><code>[root@localhost system]# chmod 777 /etc/systemd/system/docker.service</code></td> </tr> </tbody> </table> <ol> <li>重新加载配置文件（每次有修改docker.service文件时都要重新加载下）</li> </ol> <pre></pre> <table> <tbody> <tr> <td></td> <td><code>[root@localhost system]# systemctl daemon-reload</code></td> </tr> </tbody> </table> <ol> <li>启动</li> </ol> <pre></pre> <table> <tbody> <tr> <td></td> <td><code>[root@localhost system]# systemctl start docker</code></td> </tr> </tbody> </table> <ol> <li>设置开机启动</li> </ol> <pre></pre> <table> <tbody> <tr> <td></td> <td><code>[root@localhost system]# systemctl enable docker.service</code></td> </tr> </tbody> </table> <ol> <li>查看docker状态</li> </ol> <pre></pre> <table> <tbody> <tr> <td></td> <td><code>[root@localhost system]# systemctl status docker</code></td> </tr> </tbody> </table> <p>出现下面这个界面就代表docker安装成功。</p> <p><img decoding="async" alt="" src="http://img.555519.xyz/uploads3/20220609/cade1d323dd8fd0303729967ba8c4dc4.jpg"></p> <ol> <li>配置镜像加速器,默认是到国外拉取镜像速度慢,可以配置国内的镜像如：阿里、网易等等。下面配置一下网易的镜像加速器。打开docker的配置文件: /etc/docker/<strong>daemon.json</strong>文件：</li> </ol> <pre></pre> <table> <tbody> <tr> <td></td> <td><code>[root@localhost docker]# vi /etc/docker/daemon.json</code></td> </tr> </tbody> </table> <p>配置如下:</p> <pre></pre> <table> <tbody> <tr> <td></td> <td><code>{"registry-mirrors": ["http://hub-mirror.c.163.com"]}</code></td> </tr> </tbody> </table> <p>配置完后<strong>:wq</strong>保存配置并<strong>重启docker</strong>&nbsp;一定要重启不然加速是不会生效的！！！</p> <pre></pre> <p>copy</p> <table> <tbody> <tr> <td></td> <td><code>[root@localhost docker]# service docker restart</code></td> </tr> </tbody> </table> </div> 			                        <div class="col-md-12 mt-5">
                                                        <p>上一个：<a href="/html/category/article-2013.htm">maven项目打包成jar/war包</a></p>
                                                        <p>下一个：<a href="/html/category/article-2015.htm">为什么重写equals一定要重写hashcode</a></p>
                                                    </div>
                                        </div>
                <div class="col-md-3">
                    <div class="panel panel-default">
    <div class="panel-heading">
        <h3 class="panel-title">热门文章</h3>
    </div>
    <div class="panel-body">
        <ul class="p-0 x-0" style="list-style: none;margin: 0;padding: 0;">
                        <li class="py-2"><a href="/html/category/article-6904.htm" title="猫驱虫多久一次体内体外多少钱（猫咪体内驱虫多久钱）">猫驱虫多久一次体内体外多少钱（猫咪体内驱虫多久钱）</a></li>
                        <li class="py-2"><a href="/html/category/article-4493.htm" title="食材_鱼香肉丝最简单做法步骤窍门(鱼香肉丝的做法 最正宗的做法视频)">食材_鱼香肉丝最简单做法步骤窍门(鱼香肉丝的做法 最正宗的做法视频)</a></li>
                        <li class="py-2"><a href="/html/category/article-7042.htm" title="宠物领养协议模板下载（宠物领养协议简单版本）">宠物领养协议模板下载（宠物领养协议简单版本）</a></li>
                        <li class="py-2"><a href="/html/category/article-6950.htm" title="宠物粮供应商名单公布（宠物粮食供应商）">宠物粮供应商名单公布（宠物粮食供应商）</a></li>
                        <li class="py-2"><a href="/html/category/article-6030.htm" title="动物疫苗的作用意义是什么意思 动物疫苗的作用意义是什么意思啊">动物疫苗的作用意义是什么意思 动物疫苗的作用意义是什么意思啊</a></li>
                        <li class="py-2"><a href="/html/category/article-5583.htm" title="富锦宠物医院（富锦宠物领养中心）">富锦宠物医院（富锦宠物领养中心）</a></li>
                        <li class="py-2"><a href="/html/category/article-6075.htm" title="宠物粮食加工厂什么岗位比较好呢工资多少（宠物粮食加工厂什么岗位比较好呢工资多少一个月）">宠物粮食加工厂什么岗位比较好呢工资多少（宠物粮食加工厂什么岗位比较好呢工资多少一个月）</a></li>
                        <li class="py-2"><a href="/html/category/article-6628.htm" title="财务bp是什么意思么叫财务bp(财务bp是指什么)">财务bp是什么意思么叫财务bp(财务bp是指什么)</a></li>
                        <li class="py-2"><a href="/html/category/article-6162.htm" title="河南省动物疫苗招标公告公示（河南省动物疫苗管理系统）">河南省动物疫苗招标公告公示（河南省动物疫苗管理系统）</a></li>
                        <li class="py-2"><a href="/html/category/article-4383.htm" title="动物注射疫苗属于什么免疫方式（动物打疫苗获得的免疫称为）">动物注射疫苗属于什么免疫方式（动物打疫苗获得的免疫称为）</a></li>
                    </ul>
    </div>
</div>

<div class="panel panel-default">
    <div class="panel-heading">
        <h3 class="panel-title">归纳</h3>
    </div>
    <div class="panel-body">
        <ul class="p-0 x-0" style="list-style: none;margin: 0;padding: 0;">
                        <li class="py-2">
                <h4><span class="badge" style="float: right;">62</span> <a href="/html/date/2024-07/" title="2024-07 归档">2024-07</a></h4>
            </li>
                        <li class="py-2">
                <h4><span class="badge" style="float: right;">60</span> <a href="/html/date/2024-06/" title="2024-06 归档">2024-06</a></h4>
            </li>
                        <li class="py-2">
                <h4><span class="badge" style="float: right;">62</span> <a href="/html/date/2024-05/" title="2024-05 归档">2024-05</a></h4>
            </li>
                        <li class="py-2">
                <h4><span class="badge" style="float: right;">60</span> <a href="/html/date/2024-04/" title="2024-04 归档">2024-04</a></h4>
            </li>
                        <li class="py-2">
                <h4><span class="badge" style="float: right;">62</span> <a href="/html/date/2024-03/" title="2024-03 归档">2024-03</a></h4>
            </li>
                        <li class="py-2">
                <h4><span class="badge" style="float: right;">44</span> <a href="/html/date/2024-02/" title="2024-02 归档">2024-02</a></h4>
            </li>
                    </ul>
    </div>
</div>



                </div>
            </div>
        </div>
    </section>
        <footer class="main-footer">
        <div class="copyrights">
            <div class="container">
                <div class="row">
                    <div class="col-lg-6 text-center text-lg-left">
                        <p class="copyrights-text mb-3 mb-lg-0">
                          Laos Address 版权所有 Powered by WordPress
                        </p>
                    </div>
                    <div class="col-lg-6 text-center text-lg-right">
                        <ul class="list-inline social mb-0">
                            <li class="list-inline-item"><a href="#" class="social-link"><i class="fa fa-facebook"></i></a><a href="#" class="social-link"><i class="fa fa-twitter"></i></a><a href="#" class="social-link"><i class="fa fa-youtube-play"></i></a><a href="#" class="social-link"><i class="fa fa-vimeo"></i></a><a href="#" class="social-link"><i class="fa fa-pinterest"></i></a></li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </footer>
    <!-- JavaScript files-->
    <script src="/assets/addons/xcblog/js/frontend/laosaddress/jquery/jquery.min.js"></script>
    <script src="/assets/addons/xcblog/js/frontend/laosaddress/bootstrap/js/bootstrap.bundle.min.js"></script>
    <script src="/assets/addons/xcblog/js/frontend/laosaddress/jquery.cookie/jquery.cookie.js"> </script>
    <script src="/assets/addons/xcblog/js/frontend/laosaddress/lightbox2/js/lightbox.js"></script>
    <script src="/assets/addons/xcblog/js/frontend/laosaddress/front.js"></script>
</body>

</html>